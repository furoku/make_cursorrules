# User Rules（旧 "Rules for AI"）チートシート

## 基本的な設定方法とカスタマイズ方法
- **User Rulesとは**: Cursor全体に対して適用される**グローバルなAIルール**です。特定プロジェクトに限らず**全てのプロジェクト・全てのAIチャットに共通して含まれる指示**を設定できます。いわば**「常に適用されるシステムプロンプト」**のようなものです。  
- **設定箇所**: Cursorアプリの設定画面を開き、「**Settings > General > User Rules**」（旧バージョンでは「Rules for AI」）という項目にテキストエリアがあります。ここに任意の指示を入力し、保存することでUser Rulesが有効になります。  
- **記述方法**: フォーマットに厳格な決まりはありませんが、Markdown記法や箇条書きを使っても構いません（複数行の指示も可能です）。基本的にはフリーテキストで、自分がAIに守らせたいルール・口調・スタイルなどを記述します。  
- **カスタマイズ例**: 例えば「**回答は常に日本語で行うこと**」や「**コード例は必ず含め、説明は簡潔に**」といった一文を入れておけば、以降CursorのAIは全回答にその方針を反映しようとします。また複数のルールを箇条書きで列挙することも可能です。以下はUser Rules設定例です:  

  ```md
  - すべての回答を敬体の日本語で行ってください  
  - 新しいコードを書く際はTypeScriptを使用し、強い型付けを徹底してください  
  - ユーザーからコード実装を求められたら、まず擬似コードで方針を示してから最終コードを提示してください  
  ```  

  上記のように記述し保存すると、新しいチャットからはこれらのルールがグローバルに適用された状態でAIが応答します（プロジェクト固有の `.cursorrules` があればそれと**結合**された上で反映されます）。

## 推奨されるベストプラクティス
- **グローバルに有用なルールを設定**: User Rulesには**どのプロジェクトでも当てはまる自分の好みや基本方針**を設定しましょう。【プロジェクト個別の内容は各 `.cursorrules` 側で設定し、User Rulesには共通事項のみを書く】のが原則です。例えば「回答は常に英語」「常にコードブロックでコードを返す」といった、自分が常に望む振る舞いを指定します。  
- **簡潔に保つ**: グローバルルールは必要最低限に留め、簡潔に書くことが大切です。あまりに詳細で長文の指示を入れると、すべての会話に毎回そのプロンプトが付加されるため冗長になりかねません。また、複雑すぎる表現や専門用語だらけの指示も避けます（モデルが解釈しきれなかったり誤解する可能性があります）。短い箇条書きやシンプルな言葉で、ポイントを絞って伝えましょう。  
- **一貫したトーンと目的**: 設定するルール同士は矛盾せず一貫性を持たせます。自分がAIに期待する役割やトーンを明確にイメージし、それに沿う項目を列挙してください（例えば「常に丁寧語で」+「フランクに答える」は矛盾します）。トーン（敬語かカジュアルか、専門的か親しみやすいか）や、回答の詳細度（簡潔に/詳細に）なども統一的に決めて書くとよいでしょう。  
- **効果の検証**: User Rulesを設定したら、いくつか質問を投げてみて、期待通りAIが応答を変えているか確認しましょう。意図しない挙動があればルール文言を調整します。特に抽象的な指示の場合、モデルの解釈に幅があるため、必要に応じて表現を変えて試行します。例えば「常に詳細に説明」と書いたが冗長すぎると感じたら「要点を押さえ簡潔に説明」に変える、などです。  

- **定期的な見直し**: 開発状況や自分のニーズの変化に合わせ、User Rulesもアップデートしましょう。初期には有用だったルールが逆に邪魔になるケース（例えば「常にTypeScript」としていたが、別言語のプロジェクトを始めた場合など）もあります。その際は当該ルールを一時的に削除・変更し、必要に応じて後で戻すなど柔軟に管理してください。

## よくあるミスとその回避策
- **プロジェクト固有事項を書いてしまう**: User Rulesに各プロジェクト専用の細かいルールまで入れてしまうと、他のプロジェクトでもそれが適用されてしまい混乱を招きます。例えば「フロントエンドはReactを使用」というルールをグローバルに入れると、どのプロジェクトでもReact前提の回答になり不適切です。プロジェクト固有の内容はUser Rulesに書かないようにし、専用の `.cursorrules` に譲りましょう。  
- **矛盾するグローバル設定**: 複数の事項を盛り込むあまり、互いに矛盾した指示を入れてしまうことがあります。例えば「コードは一切説明なしで提供する」と「常に詳細な解説を添える」を同時に入れてはいけません。ルール設定後に内容を見直し、**論理的に食い違いがないか**チェックしましょう。また、プロジェクト側のルール（.cursorrules）との矛盾にも注意が必要です（前述のように両者は結合されるため、AIが戸惑う原因になります）。基本的に**全プロジェクトに共通する事項のみ**を書いていればこの問題は起きません。  
- **意図しない口調や制限がかかる**: 一度User Rulesを設定すると自分でオフにしない限りずっと適用されます。そのため、他の用途でCursorを使った際に意図しない影響が出ることがあります。例えば普段は「常に敬語」で設定しているが、ブログ記事を書かせる用途では硬すぎる文体になってしまう等です。このような場合、都度User Rulesを調整するか、一時的にクリアする必要があります。**用途が変わる場合は設定を見直す**ことを忘れないでください。  
- **設定忘れ・重複**: Cursorを再インストールしたりPCを変更した際にUser Rulesの再設定を忘れるケースがあります。また、Cursorとは別のAIツールにも似たルールを設定していると、どこでどう設定したか混乱することがあります。ドキュメント等に自分のグローバルルールのメモを残しておくと、いざという時に再現しやすく便利です。  
- **モデルの制約を超えた期待**: User Rulesで指示すればどんな質問でも完璧に思い通り…というわけではありません。モデルの知識や文脈によってはルールがあっても限界があります。例えば「常に最適な解法を提供する」と書いても、モデルが知らない最新アルゴリズムは提示できません。**User Rulesは魔法の杖ではなく、あくまで出力の傾向を調整するもの**と理解しましょう。

## 便利なテクニック（特定のプロジェクトや用途に最適化する方法）
- **言語やフォーマットの固定**: 最も基本的かつ有用な使い方は、**回答言語やコードフォーマットのデフォルトを指定する**ことです。例えば「常に日本語で回答する」「必ずMarkdown形式で回答する」「コードにはシンタックスハイライトを付ける（\`\`\`言語名で開始）」等を設定できます。これにより毎回指示しなくても、自分好みの形式で返答が得られます。特に多言語対応が必要な場合、ユーザーごとに言語を固定できるのは便利です。  
- **AIの役割（ロール）を設定**: AIに特定の役割を演じさせたい場合もUser Rulesが使えます。例えば「あなたは熟練のPythonエンジニアです…」と始めて、常に専門家の視点で回答するよう促すことが可能です。あるいは「フレンドリーなアシスタントとして振る舞い、ユーザーを励ましながら答える」と書けば、回答が柔らかいトーンになります。必要に応じてBulletで詳細な振る舞いを列挙できます（例: 「* ユーザーの要求を厳密に守る」「* 不明な点は推測せず正直に『わからない』と答える」等）。  
- **回答プロセスの指示**: 出力そのものだけでなく、**回答のプロセス**をルール化するテクニックもあります。例えば「まずステップバイステップで解決策を考察し、その後コードを提示せよ」とUser Rulesに書いておけば、AIは質問に対していきなり最終コードを書くのではなく、一度擬似コードや計画を述べてから実装するようになります。この方法は、特に複雑なコーディング問題で間違った方向に進むリスクを減らし、ユーザーとの認識合わせをしてから実装できるメリットがあります。  
- **常時適用したいコーディング規約**: 個人でプロジェクトを作る際によく使うコーディングパターンや規約があるなら、それをグローバルルール化してしまうのも手です。例えば「**常に強い型付け**」「**関数はできるだけ純粋関数にする（副作用を避ける）**」「**DRY原則を守る**」などです。これらをUser Rulesに入れておけば、新規プロジェクトでもうっかりスタイルを崩すことが減ります。ただしプロジェクトごとにスタイルが異なる場合は逆効果なので、自分の中で一貫した開発スタイルが確立している場合に有効な手法です。  
- **応答の詳細度を調整**: User Rulesで**回答の詳細さや長さを調整**できます。「常に簡潔に答える」「可能な限り詳細に説明する」のように書けば、デフォルトの応答傾向が変わります。また「コードと一緒に必ず説明文も提供する」「利用したアルゴリズムの計算量を述べる」等、回答内容の付加情報について指示することも可能です。これにより、自分が求める情報量に合わせてAIの回答スタイルをコントロールできます。  

## 具体的なユースケース（活用シーン）
- **多言語プロジェクトでの活用**: 日英など複数言語で作業する場合、User RulesでAIの回答言語を統一できます。例えば日本語話者の開発者であれば「常に日本語で回答する」と設定しておけば、質問が英語でも日本語で答えてくれるので毎回翻訳する手間が省けます。逆に英文ドキュメントを書くプロジェクトなら「回答は英語で」としておくと良いでしょう。  
- **個人開発者のコーディングスタイル反映**: 自分が常に従っているコーディング習慣をAIにも守らせることで、提案内容の手直しが減ります。例えば「自分は絶対TypeScript派」という人は「常にTypeScriptでコードを書く」と入れておけば、AIもデフォルトでTypeScriptコードを返すようになります。また「コメントは英語で書く」と決めているならその旨をルールに書いておけば、AIが自動生成するコメントも英語になります。  
- **回答品質の底上げ**: 常に質の高い回答が欲しい場合、User Rulesでそれを要求します。例として「**常に最新のベストプラクティスに則って回答する**」「**セキュリティ面で考慮すべき点があれば指摘する**」などを書いておけば、AIは回答時にそれらを考慮してくれるでしょう。「知らないことは無理に答えず正直に伝える」も有用なルールで、誤情報の低減に役立ちます。  
- **トーンの統一**: テクニカルライティングやQA対応など、AIの**口調や態度**を統一したいケースでもUser Rulesが効果的です。例えば社内FAQ作成にCursorを使うなら「丁寧かつ親しみやすい口調で答える」と設定しておけば、一貫した文体で回答が得られます。カジュアルなチャットボットを作るなら「絵文字を適度に交えてフランクに答える」といった指定もできます（極端な例では「メイド口調で可愛く答える」等も技術的には可能です）。このようにトーン&マナーを固定することで、用途に合った回答スタイルを維持できます。  
- **学習用途・チュートリアル**: Cursorを学習アシスタントとして使う場合、User Rulesに教育的な振る舞いを盛り込めます。例えば「あなたは厳格だが優しい教師です。常にソースコードの誤りを指摘し、改善方法を順序立てて説明してください。」と書いておけば、エラーがあった際にただコードを修正するだけでなく解説も加えてくれるでしょう。逆にクイズ形式で学びたいなら「ユーザーにヒントを与えすぎず、自分で考えさせるよう心がける」といった指示も考えられます。  
- **全社的な標準の適用**: 企業や組織でCursorを導入する場合、User Rulesに組織共通の開発標準を設定するケースもあります。例えば「コードには会社のコーディング規約（〇〇規約）に従うこと」「機密情報に関する質問には答えないこと」といった**ポリシー的なルール**です。これにより、どの開発者がAIを使っても最低限守るべき基準が担保されます（ただし完全に強制はできないので、あくまでアシストとしてです）。このような使い方をすれば、大人数プロジェクトでもAIのアウトプットを組織のルール内に収めやすくなります。  